import{i as e,d as r,e as t,f as n,g as o}from"./app.38facd8e.js";
/**
 * Vue 3 Spring 0.0.2
 * (c) 2021
 * @license MIT
 */function s(e){return window.requestAnimationFrame(e)}function u(e){return"number"==typeof e}const a={from:0,to:0,stiffness:170,damping:26,mass:1,velocity:0,precision:2,framesPerSecond:60,isPendulum:!1};function i(e){const t=Object.assign(Object.assign({},a),e),n=r({currentValue:t.from,desiredValue:t.to,velocity:t.velocity});let u=0,i=t.to;const c=Math.pow(10,t.precision),f=1/c,l=o({get:()=>{return e=n.currentValue,Math.round(e*c)/c;var e},set:e=>{"number"==typeof e&&(n.desiredValue=i=e,u=s(m))}});function m(){const{stiffness:e,damping:r,mass:o}=t;if(function(){const e=Math.abs(n.velocity),r=Math.abs(n.currentValue-n.desiredValue);return e<f&&r<f}()){if(!t.isPendulum)return;!function(){const e=[t.from,i];n.desiredValue=(r=e,o=n.currentValue,r.reduce(((e,r)=>Math.abs(r-o)>Math.abs(e-o)?r:e)));var r,o}()}const a=(-1*e*(n.currentValue-n.desiredValue)+-1*r*n.velocity)/o;var c;n.velocity+=a/t.framesPerSecond,n.currentValue+=n.velocity/t.framesPerSecond,c=u,window.cancelAnimationFrame(c),u=s(m)}return n.currentValue!==n.desiredValue&&(u=s(m)),l}function c(o,s){const a=Object.assign({to:o},s);let c;if(!o||u(o))a.from=u(a.from)?a.from:0,c=i(a);else if(e(o))a.to=o.value,a.from=u(a.from)?a.from:0,c=i(a);else if("object"==typeof o){const e=Object.keys(o);if(!e.length)throw new Error("[spring] can not find any values");const t=e.reduce(((e,r)=>{var t;return a.to=o[r],a.from=(null===(t=null==s?void 0:s.from)||void 0===t?void 0:t[r])||0,e[r]=i(a),e}),{});c=r(t)}return t(o)?n((()=>{Object.entries(o).forEach((([e,r])=>{c[e]=r}))})):e(o)&&n((()=>c.value=o.value)),c}var f={name:"SpringProvider",props:{from:{default:()=>({}),type:[Object,Number]},to:{default:()=>({}),required:!0,type:[Object,Number]},stiffness:Number,damping:Number,mass:Number,velocity:Number,precision:Number,framesPerSecond:Number,isPendulum:Boolean},setup(e,{slots:r}){const t=c(e.to,e);return u(e.to)&&n((()=>t.value=e.to)),()=>null==r?void 0:r.default(t)}};export{f as S,c as s};
